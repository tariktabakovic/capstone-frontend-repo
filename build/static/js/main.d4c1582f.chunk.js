(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{25:function(e,t,a){},27:function(e,t,a){},52:function(e,t,a){e.exports=a(91)},91:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(19),o=a.n(s),i=a(6),l=a(7),c=a(9),u=a(8),h=a(10),m=a(102),d=a(103),p=a(104),g=a(105),b=a(106),f=a(107),E=a(108),O=a(14),v=a(13),y=a(93),j=a(112),k=a(94),w=a(95),S=a(96),C=a(97),T=a(98),_=a(99),A=a(100),D=a(22),L=a.n(D),N=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:"GET_ERRORS",payload:{msg:e,status:t,id:a}}},R=function(){return{type:"CLEAR_ERRORS"}},P=function(e){var t=e.email,a=e.password;return function(e){var n=JSON.stringify({email:t,password:a});L.a.post("/api/auth",n,{headers:{"Content-Type":"application/json"}}).then((function(t){return e({type:"LOGIN_SUCCESS",payload:t.data})})).catch((function(t){e(N(t.response.data,t.response.status,"LOGIN_FAIL")),e({type:"LOGIN_FAIL"})}))}},G=function(e){var t=e().auth.token,a={headers:{"Content-type":"application/json"}};return t&&(a.headers["x-auth-token"]=t),a},I=(a(27),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={modal:!1,name:"",email:"",password:"",msg:null},a.toggle=function(){a.props.clearErrors(),a.setState({modal:!a.state.modal})},a.onChange=function(e){a.setState(Object(v.a)({},e.target.name,e.target.value))},a.onSubmit=function(e){e.preventDefault();var t=a.state,n={name:t.name,email:t.email,password:t.password};a.props.register(n)},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.error,n=t.isAuthenticated;a!==e.error&&("REGISTER_FAIL"===a.id?this.setState({msg:a.msg.msg}):this.setState({msg:null})),this.state.modal&&n&&this.toggle()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(y.a,{onClick:this.toggle,style:{margin:"2px"}},"Register"),r.a.createElement(j.a,{isOpen:this.state.modal,toggle:this.toggle},r.a.createElement(k.a,{toggle:this.toggle},"Register an account"),r.a.createElement(w.a,null,this.state.msg?r.a.createElement(S.a,{color:"danger"},this.state.msg):null,r.a.createElement(C.a,{onSubmit:this.onSubmit},r.a.createElement(T.a,null,r.a.createElement(_.a,{for:"name"},"Name"),r.a.createElement(A.a,{type:"text",name:"name",id:"name",placeholder:"Name",className:"mb-3",onChange:this.onChange}),r.a.createElement(_.a,{for:"email"},"Email"),r.a.createElement(A.a,{type:"email",name:"email",id:"email",placeholder:"Email",className:"mb-3",onChange:this.onChange}),r.a.createElement(_.a,{for:"password"},"Password"),r.a.createElement(A.a,{type:"password",name:"password",id:"password",placeholder:"Password",className:"mb-3",onChange:this.onChange}),r.a.createElement(y.a,{color:"dark",style:{marginTop:"2rem"},block:!0},"Register"))))))}}]),t}(n.Component)),U=Object(O.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,error:e.error}}),{register:function(e){var t=e.name,a=e.email,n=e.password;return function(e){var r=JSON.stringify({name:t,email:a,password:n});L.a.post("/api/users",r,{headers:{"Content-Type":"application/json"}}).then((function(t){return e({type:"REGISTER_SUCCESS",payload:t.data})})).catch((function(t){e(N(t.response.data,t.response.status,"REGISTER_FAIL")),e({type:"REGISTER_FAIL"})}))}},clearErrors:R})(I),M=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={modal:!1,email:"",password:"",msg:null},a.toggle=function(){a.props.clearErrors(),a.setState({modal:!a.state.modal})},a.onChange=function(e){a.setState(Object(v.a)({},e.target.name,e.target.value))},a.onSubmit=function(e){e.preventDefault();var t=a.state,n={email:t.email,password:t.password};a.props.login(n)},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.error,n=t.isAuthenticated;a!==e.error&&("LOGIN_FAIL"===a.id?this.setState({msg:a.msg.msg}):this.setState({msg:null})),this.state.modal&&n&&this.toggle()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(y.a,{onClick:this.toggle,style:{margin:"2px"}},"Login"),r.a.createElement(j.a,{isOpen:this.state.modal,toggle:this.toggle},r.a.createElement(k.a,{toggle:this.toggle},"Login"),r.a.createElement(w.a,null,this.state.msg?r.a.createElement(S.a,{color:"danger"},this.state.msg):null,r.a.createElement(C.a,{onSubmit:this.onSubmit},r.a.createElement(T.a,null,r.a.createElement(_.a,{for:"email"},"Email"),r.a.createElement(A.a,{type:"email",name:"email",id:"email",placeholder:"Email",className:"mb-3",autoComplete:"on",onChange:this.onChange}),r.a.createElement(_.a,{for:"password"},"Password"),r.a.createElement(A.a,{type:"password",name:"password",id:"password",placeholder:"Password",className:"mb-3",autoComplete:"on",onChange:this.onChange}),r.a.createElement(y.a,{color:"dark",style:{marginTop:"2rem"},block:!0},"Login"))))))}}]),t}(n.Component),q=Object(O.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,error:e.error}}),{login:P,clearErrors:R})(M),H=a(101),F=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement(H.a,{onClick:this.props.logout,href:"#"},"Logout"))}}]),t}(n.Component),x=Object(O.b)(null,{logout:function(){return{type:"LOGOUT_SUCCESS"}}})(F),W=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isOpen:!1},a.toggle=function(){a.setState({isOpen:!a.state.isOpen})},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.auth,t=e.isAuthenticated,a=e.user,s=r.a.createElement(n.Fragment,null,r.a.createElement(m.a,null,r.a.createElement("span",{className:"navbar-text mr-3"},r.a.createElement("strong",null,a?"Welcome ".concat(a.name,"!"):""))),r.a.createElement(m.a,null,r.a.createElement(x,null))),o=r.a.createElement(n.Fragment,null,r.a.createElement(m.a,null,r.a.createElement(U,null)),r.a.createElement(m.a,null,r.a.createElement(q,null)));return r.a.createElement("div",null,r.a.createElement(d.a,{color:"dark",dark:!0,expand:"sm",className:"mb-5"},r.a.createElement(p.a,null,r.a.createElement(g.a,{href:"/"}),r.a.createElement(b.a,{onClick:this.toggle}),r.a.createElement(f.a,{isOpen:this.state.isOpen,navbar:!0},r.a.createElement(E.a,{className:"ml-auto",navbar:!0},t?s:o)))))}}]),t}(n.Component),B=Object(O.b)((function(e){return{auth:e.auth}}),null)(W),J=(a(86),a(109)),z=a(110),X=a(113),V=a(111),$=(a(87),function(){return{type:"THOUGHTS_LOADING"}}),K=a(15);a(25);function Q(e){return r.a.createElement("button",{className:"square "+e.shade,onClick:e.onClick,style:e.style})}var Y=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"renderSquare",value:function(e,t){var a=this;return r.a.createElement(Q,{style:this.props.squares[e]?this.props.squares[e].style:null,shade:t,onClick:function(){return a.props.onClick(e)}})}},{key:"render",value:function(){for(var e=[],t=0;t<8;t++){for(var a=[],n=0;n<8;n++){var s=Z(t)&&Z(n)||!Z(t)&&!Z(n)?"light-square":"dark-square";a.push(this.renderSquare(8*t+n,s))}e.push(r.a.createElement("div",{className:"board-row"},a))}return r.a.createElement("div",null,e)}}]),t}(n.Component);function Z(e){return e%2===0}var ee=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"renderSquare",value:function(e,t,a){return r.a.createElement(Q,{piece:e,style:e.style})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("p",null,"Pieces seized by player 2:"),r.a.createElement("div",{className:"board-row"},this.props.whiteDeadPieces.map((function(t,a){return e.renderSquare(t,a)}))),r.a.createElement("p",null,"Pieces seized by player 1:"),r.a.createElement("div",{className:"board-row"},this.props.blackDeadPieces.map((function(t,a){return e.renderSquare(t,a)}))))}}]),t}(r.a.Component),te=function e(t,a){Object(i.a)(this,e),this.player=t,this.style={backgroundImage:"url('"+a+"')"}},ae=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e,1===e?"https://upload.wikimedia.org/wikipedia/commons/4/45/Chess_plt45.svg":"https://upload.wikimedia.org/wikipedia/commons/c/c7/Chess_pdt45.svg"))).initialPositions={1:[48,49,50,51,52,53,54,55],2:[8,9,10,11,12,13,14,15]},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"isMovePossible",value:function(e,t,a){if(1===this.player){if(t===e-8&&!a||t===e-16&&-1!==this.initialPositions[1].indexOf(e))return!0;if(a&&(t===e-9||t===e-7))return!0}else if(2===this.player){if(t===e+8&&!a||t===e+16&&-1!==this.initialPositions[2].indexOf(e))return!0;if(a&&(t===e+9||t===e+7))return!0}return!1}},{key:"getSrcToDestPath",value:function(e,t){return t===e-16?[e-8]:t===e+16?[e+8]:[]}}]),t}(te),ne=function(e){function t(e){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).call(this,e,1===e?"https://upload.wikimedia.org/wikipedia/commons/7/70/Chess_nlt45.svg":"https://upload.wikimedia.org/wikipedia/commons/e/ef/Chess_ndt45.svg"))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"isMovePossible",value:function(e,t){return e-17===t||e-10===t||e+6===t||e+15===t||e-15===t||e-6===t||e+10===t||e+17===t}},{key:"getSrcToDestPath",value:function(){return[]}}]),t}(te),re=function(e){function t(e){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).call(this,e,1===e?"https://upload.wikimedia.org/wikipedia/commons/b/b1/Chess_blt45.svg":"https://upload.wikimedia.org/wikipedia/commons/9/98/Chess_bdt45.svg"))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"isMovePossible",value:function(e,t){return Math.abs(e-t)%9===0||Math.abs(e-t)%7===0}},{key:"getSrcToDestPath",value:function(e,t){var a,n,r,s=[];e>t?(a=t,n=e):(a=e,n=t),!1&Math.abs(e-t)?(r=9,a+=9):(r=7,a+=7);for(var o=a;o<n;o+=r)s.push(o);return s}}]),t}(te),se=function(e){function t(e){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).call(this,e,1===e?"https://upload.wikimedia.org/wikipedia/commons/7/72/Chess_rlt45.svg":"https://upload.wikimedia.org/wikipedia/commons/f/ff/Chess_rdt45.svg"))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"isMovePossible",value:function(e,t){var a=e%8,n=8-a;return Math.abs(e-t)%8===0||t>=e-a&&t<e+n}},{key:"getSrcToDestPath",value:function(e,t){var a,n,r,s=[];e>t?(a=t,n=e):(a=e,n=t),Math.abs(e-t)%8===0?(r=8,a+=8):(r=1,a+=1);for(var o=a;o<n;o+=r)s.push(o);return s}}]),t}(te),oe=function(e){function t(e){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).call(this,e,1===e?"https://upload.wikimedia.org/wikipedia/commons/1/15/Chess_qlt45.svg":"https://upload.wikimedia.org/wikipedia/commons/4/47/Chess_qdt45.svg"))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"isMovePossible",value:function(e,t){var a=e%8,n=8-a;return Math.abs(e-t)%9===0||Math.abs(e-t)%7===0||Math.abs(e-t)%8===0||t>=e-a&&t<e+n}},{key:"getSrcToDestPath",value:function(e,t){var a,n,r,s=[];e>t?(a=t,n=e):(a=e,n=t),Math.abs(e-t)%8===0?(r=8,a+=8):Math.abs(e-t)%9===0?(r=9,a+=9):Math.abs(e-t)%7===0?(r=7,a+=7):(r=1,a+=1);for(var o=a;o<n;o+=r)s.push(o);return s}}]),t}(te),ie=function(e){function t(e){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).call(this,e,1===e?"https://upload.wikimedia.org/wikipedia/commons/4/42/Chess_klt45.svg":"https://upload.wikimedia.org/wikipedia/commons/f/f0/Chess_kdt45.svg"))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"isMovePossible",value:function(e,t){return e-9===t||e-8===t||e-7===t||e+1===t||e+9===t||e+8===t||e-1===t}},{key:"getSrcToDestPath",value:function(e,t){return[]}}]),t}(te);function le(){for(var e=Array(64).fill(null),t=8;t<16;t++)e[t]=new ae(2),e[t+40]=new ae(1);return e[0]=new se(2),e[7]=new se(2),e[56]=new se(1),e[63]=new se(1),e[1]=new ne(2),e[6]=new ne(2),e[57]=new ne(1),e[62]=new ne(1),e[2]=new re(2),e[5]=new re(2),e[58]=new re(1),e[61]=new re(1),e[3]=new oe(2),e[4]=new ie(2),e[59]=new oe(1),e[60]=new ie(1),e}var ce=a(31),ue=a.n(ce),he=a(48),me=(r.a.Component,function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).state={squares:le(),whiteDeadPieces:[],blackDeadPieces:[],player:1,sourceSelection:-1,turn:"white"},e}return Object(h.a)(t,e),Object(l.a)(t,[{key:"handleClick",value:function(e){var t=this.state.squares.slice();if(-1===this.state.sourceSelection)t[e]&&t[e].player===this.state.player?(t[e].style=Object(K.a)({},t[e].style,{backgroundColor:"RGB(111, 143, 114"}),this.setState({status:"Choose a square",sourceSelection:e})):(this.setState({status:"Wrong player, it is player "+this.state.player+" turn to move"}),t[e]&&(t[e].style=Object(K.a)({},t[e].style,{backgroundColor:""})));else if(this.state.sourceSelection>-1)if(t[this.state.sourceSelection].style=Object(K.a)({},t[this.state.sourceSelection].style,{backgroundColor:""}),t[e]&&t[e].player===this.state.player)this.setState({status:"Wrong player, choose another player",sourceSelection:-1});else{var a=this.state.squares.slice(),n=this.state.whiteDeadPieces.slice(),r=this.state.blackDeadPieces.slice(),s=!!a[e],o=a[this.state.sourceSelection].isMovePossible(this.state.sourceSelection,e,s),i=a[this.state.sourceSelection].getSrcToDestPath(this.state.sourceSelection,e),l=this.isMoveLegal(i);if(o&&l){null!==a[e]&&(1===a[e].player?n.push(a[e]):r.push(a[e])),console.log("white dead pieces",n),console.log("black dead pieces",r),a[e]=a[this.state.sourceSelection],a[this.state.sourceSelection]=null;var c=1===this.state.player?2:1,u="white"===this.state.turn?"black":"white";this.setState({sourceSelection:-1,squares:a,whiteDeadPieces:n,blackDeadPieces:r,player:c,status:"",turn:u})}else this.setState({status:"Wrong selection.",sourceSelection:-1})}}},{key:"isMoveLegal",value:function(e){for(var t=!0,a=0;a<e.length;a++)null!==this.state.squares[e[a]]&&(t=!1);return t}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"game"},r.a.createElement("div",{className:"game-board"},r.a.createElement(Y,{squares:this.state.squares,onClick:function(t){return e.handleClick(t)}})),r.a.createElement("div",{className:"game-info"},r.a.createElement("h3",null,"Below is whose turn it is:"),r.a.createElement("div",{id:"player-turn-box",style:{backgroundColor:this.state.turn}}),r.a.createElement("div",{className:"game-status"},this.state.status),r.a.createElement("div",{className:"dead-pieces"},r.a.createElement(ee,{whiteDeadPieces:this.state.whiteDeadPieces,blackDeadPieces:this.state.blackDeadPieces})))))}}]),t}(r.a.Component)),de=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).onDeleteClick=function(e){a.props.deleteThought(e)},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.getThoughts()}},{key:"render",value:function(){var e=this,t=this.props.thought.thoughts;return r.a.createElement(p.a,null,this.props.isAuthenticated?r.a.createElement(J.a,null,r.a.createElement(X.a,{className:"thought-list"},t.map((function(t){var a=t._id,n=t.name;return r.a.createElement(V.a,{key:a,timeout:500,classNames:"fade"},r.a.createElement(z.a,null,r.a.createElement(y.a,{className:"remove-btn",color:"dark",size:"sm",onClick:e.onDeleteClick.bind(e,a),style:{margin:"2px"}},"\xd7"),n))}))),r.a.createElement(me,null)):null)}}]),t}(n.Component),pe=Object(O.b)((function(e){return{thought:e.thought,isAuthenticated:e.auth.isAuthenticated}}),{getThoughts:function(){return function(e){e($()),L.a.get("/api/dailythoughts").then((function(t){return e({type:"GET_THOUGHTS",payload:t.data})})).catch((function(t){return e(N(t.response.data,t.response.status))}))}},deleteThought:function(e){return function(t,a){L.a.delete("/api/dailythoughts/".concat(e),G(a)).then((function(a){return t({type:"DELETE_THOUGHT",payload:e})})).catch((function(e){return t(N(e.response.data,e.response.status))}))}}})(de),ge=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={modal:!1,name:""},a.toggle=function(){a.setState({modal:!a.state.modal})},a.onChange=function(e){a.setState(Object(v.a)({},e.target.name,e.target.value))},a.onSubmit=function(e){e.preventDefault();var t={name:a.state.name};a.props.addThought(t),a.toggle()},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e;return r.a.createElement(n.Fragment,null,r.a.createElement("h4",{className:"ml-4"},"WhoIsGrandmaster?"),r.a.createElement("div",null,this.props.isAuthenticated?r.a.createElement(y.a,(e={color:"dark",style:{marginBottom:"2rem"}},Object(v.a)(e,"style",{marginLeft:"1.5rem"}),Object(v.a)(e,"onClick",this.toggle),e),"Record your daily thoughts"):r.a.createElement("h4",{className:"mb-3 ml-4"},"Please log in to access app"),r.a.createElement(j.a,{isOpen:this.state.modal,toggle:this.toggle},r.a.createElement(k.a,{toggle:this.toggle},"Record your daily thoughts"),r.a.createElement(w.a,null,r.a.createElement(C.a,{onSubmit:this.onSubmit},r.a.createElement(T.a,null,r.a.createElement(_.a,{for:"thought"}),r.a.createElement(A.a,{type:"text",name:"name",id:"thought",placeholder:"Record your daily thoughts",onChange:this.onChange}),r.a.createElement(y.a,{color:"dark",style:{marginTop:"2rem"},block:!0},"Add Thought")))))))}}]),t}(n.Component),be=Object(O.b)((function(e){return{thought:e.thought,isAuthenticated:e.auth.isAuthenticated}}),{addThought:function(e){return function(t,a){L.a.post("/api/dailythoughts",e,G(a)).then((function(e){return t({type:"ADD_THOUGHT",payload:e.data})})).catch((function(e){return t(N(e.response.data,e.response.status))}))}}})(ge),fe=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.auth,t=(e.isAuthenticated,e.user,r.a.createElement(n.Fragment,null,r.a.createElement(y.a,null,r.a.createElement(U,null)),r.a.createElement("br",null),r.a.createElement(y.a,null,r.a.createElement(q,null))));return r.a.createElement("div",{className:"login-box"},r.a.createElement(p.a,{className:"welcome-buttons"},t))}}]),t}(n.Component),Ee=(Object(O.b)((function(e){return{auth:e.auth}}),null)(fe),a(21)),Oe=a(49),ve=a(50),ye={thoughts:[],loading:!1},je={msg:{},status:null,id:null},ke={token:localStorage.getItem("token"),isAuthenticated:null,isLoading:!1,user:null},we=Object(Ee.c)({thought:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_THOUGHTS":return Object(K.a)({},e,{thoughts:t.payload,loading:!1});case"DELETE_THOUGHT":return Object(K.a)({},e,{thoughts:e.thoughts.filter((function(e){return e._id!==t.payload}))});case"ADD_THOUGHT":return Object(K.a)({},e,{thoughts:[t.payload].concat(Object(ve.a)(e.thoughts))});case"THOUGHTS_LOADING":return Object(K.a)({},e,{loading:!0});default:return e}},error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ERRORS":return{msg:t.payload.msg,status:t.payload.status,id:t.payload.id};case"CLEAR_ERRORS":return{msg:{},status:null,id:null};default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOADING":return Object(K.a)({},e,{isLoading:!0});case"USER_LOADED":return Object(K.a)({},e,{isAuthenticated:!0,isLoading:!1,user:t.payload});case"LOGIN_SUCCESS":case"REGISTER_SUCCESS":return localStorage.setItem("token",t.payload.token),Object(K.a)({},e,{},t.payload,{isAuthenticated:!0,isLoading:!1});case"AUTH_ERROR":case"LOGIN_FAIL":case"LOGOUT_SUCCESS":case"REGISTER_FAIL":return localStorage.removeItem("token"),Object(K.a)({},e,{token:null,user:null,isAuthenticated:!1,isLoading:!1});default:return e}}}),Se=[Oe.a],Ce=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Ee.d,Te=Object(Ee.e)(we,{},Ce(Ee.a.apply(void 0,Se))),_e=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={modal:!1,email:"",password:"",msg:null},a.toggle=function(){a.props.clearErrors(),a.setState({modal:!a.state.modal})},a.onChange=function(e){a.setState(Object(v.a)({},e.target.name,e.target.value))},a.onSubmit=function(e){e.preventDefault();var t=a.state,n={email:t.email,password:t.password};a.props.login(n)},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.error,n=t.isAuthenticated;a!==e.error&&("LOGIN_FAIL"===a.id?this.setState({msg:a.msg.msg}):this.setState({msg:null})),this.state.modal&&n&&this.toggle()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(y.a,{onClick:this.toggle,href:"#"},"Login"),r.a.createElement(j.a,{isOpen:this.state.modal,toggle:this.toggle},r.a.createElement(k.a,{toggle:this.toggle},"Login"),r.a.createElement(w.a,null,this.state.msg?r.a.createElement(S.a,{color:"danger"},this.state.msg):null,r.a.createElement(C.a,{onSubmit:this.onSubmit},r.a.createElement(T.a,null,r.a.createElement(_.a,{for:"email"},"Email"),r.a.createElement(A.a,{type:"email",name:"email",id:"email",placeholder:"Email",className:"mb-3",onChange:this.onChange}),r.a.createElement(_.a,{for:"password"},"Password"),r.a.createElement(A.a,{type:"password",name:"password",id:"password",placeholder:"Password",className:"mb-3",onChange:this.onChange}),r.a.createElement(y.a,{color:"dark",style:{marginTop:"2rem"},block:!0},"Login"))))))}}]),t}(n.Component),Ae=(Object(O.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,error:e.error}}),{login:P,clearErrors:R})(_e),function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){Te.dispatch((function(e,t){e({type:"USER_LOADING"}),L.a.get("/api/auth/user",G(t)).then((function(t){return e({type:"USER_LOADED",payload:t.data})})).catch((function(t){e(N(t.response.data,t.response.status)),e({type:"AUTH_ERROR"})}))}))}},{key:"render",value:function(){return r.a.createElement(O.a,{store:Te},r.a.createElement("div",{className:"App"},r.a.createElement(B,null),r.a.createElement(p.a,null,r.a.createElement(be,null),r.a.createElement(pe,null))))}}]),t}(r.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(Ae,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[52,1,2]]]);
//# sourceMappingURL=main.d4c1582f.chunk.js.map